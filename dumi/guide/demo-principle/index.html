<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg"
    />
    <style>
      a[title="站长统计"] {
        display: none;
      }
    </style>
    <link rel="stylesheet" href="/umi.ee5df49f.css" />
    <script>
      window.routerBase = "/dumi/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>dumi 的 Demo 理念</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="/dumi//">dumi</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/dumi//guide">指南</a><a href="/dumi//config">配置项</a><a href="/dumi//examples">渲染示例</a><a href="/dumi//lab">实验室</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="/dumi//"></a><h1>dumi</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/dumi//guide">指南</a></li><li><a href="/dumi//config">配置项</a></li><li><a href="/dumi//examples">渲染示例</a></li><li><a href="/dumi//lab">实验室</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a target="_blank" rel="noopener noreferrer">介绍</a><ul><li><a href="/dumi//guide"><span>介绍</span></a></li><li><a href="/dumi//guide/getting-started"><span>快速上手</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">写组件 Demo</a><ul><li><a aria-current="page" class="active" href="/dumi//guide/demo-principle"><span>dumi 的 Demo 理念</span></a></li><li><a href="/dumi//guide/demo-types"><span>Demo 的类型</span></a></li><li><a href="/dumi//guide/control-demo-render"><span>控制 Demo 渲染</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">控制菜单和路由生成</a><ul><li><a href="/dumi//guide/control-route-generate"><span>控制路由生成</span></a></li><li><a href="/dumi//guide/control-menu-generate"><span>控制菜单生成</span></a></li><li><a href="/dumi//guide/control-nav-generate"><span>控制导航生成</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">更多用法</a><ul><li><a href="/dumi//guide/mode"><span>多种呈现模式</span></a></li><li><a href="/dumi//guide/multi-language"><span>多语言支持</span></a></li><li><a href="/dumi//guide/seo"><span>SEO 支持</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">其他</a><ul><li><a href="/dumi//guide/migration"><span>从 father-doc 迁移</span></a></li><li><a href="/dumi//guide/faq"><span>FAQ</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="原则一：能看能用" data-depth="2"><a href="/dumi//guide/demo-principle#原则一：能看能用"><span>原则一：能看能用</span></a></li><li title="原则二：依赖清晰" data-depth="2"><a href="/dumi//guide/demo-principle#原则二：依赖清晰"><span>原则二：依赖清晰</span></a></li><li title="原则三：易于维护" data-depth="2"><a href="/dumi//guide/demo-principle#原则三：易于维护"><span>原则三：易于维护</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="dumi-的-demo-理念"><a aria-hidden="true" href="/dumi//guide/demo-principle#dumi-的-demo-理念"><span class="icon,icon-link"></span></a>dumi 的 Demo 理念</h1><p>dumi 只有一个理念——<strong>开发者应该像用户一样写 Demo</strong>。</p><p>这句话如何理解？用户的 Demo 就是实际项目，像用户一样写 Demo 意味着这个 Demo 能直接为实际项目所用，所以它必定要满足下面几个原则。</p><h2 id="原则一：能看能用"><a aria-hidden="true" href="/dumi//guide/demo-principle#原则一：能看能用"><span class="icon,icon-link"></span></a>原则一：能看能用</h2><p>我们在为组件写 Demo 的时候，很容易写成这样：</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> React </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> Component </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;./&#x27;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 错误示例，请勿模仿</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation">&lt;</span><span class="token tag class-name">Component</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这个 Demo 当然能够如预期一般正常运行，但如果用户觉得这个 Demo 可以被用于项目开发、准备拷贝 Demo 源码至项目中的时候，他会发现这个 <code>./</code> 的依赖完全无法识别。所以，这样的 Demo，是 <strong>只能看、不能用</strong> 的。</p><p>为了解决这个尴尬的问题，dumi 会为开发者自动 alias 当前项目的包，如果是 lerna 项目则会 alias 全部的包，这意味着，我们完全可以像用户一样去引用组件库的依赖，就像这样：</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> Component </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;library-name&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>这样的 Demo，不仅能让用户直接在项目中使用，也能使得 Demo 在 codesandbox.io 中打开时，也能正常工作。</p><h2 id="原则二：依赖清晰"><a aria-hidden="true" href="/dumi//guide/demo-principle#原则二：依赖清晰"><span class="icon,icon-link"></span></a>原则二：依赖清晰</h2><p>由于 Umi 会自动帮我们引入 React，即便我们不引入 React，也能够正常使用 JSX：</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation">&lt;</span><span class="token tag punctuation">&gt;</span><span class="token plain">Hello World</span><span class="token tag punctuation">&lt;/</span><span class="token tag punctuation">&gt;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 这样写也是跑得起来的</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>但这样的 Demo 在 online editor 或者其他非 Umi 框架的项目中是无法正常运行的。所以，这样的 Demo 我们认为是<strong>依赖不清晰的</strong>，只要使用了 JSX，我们就应当引入 React：</p><div class="__dumi-default-code-block"><pre class="prism-code language-jsx"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">import</span><span class="token plain"> React </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">=&gt;</span><span class="token plain"> </span><span class="token tag punctuation">&lt;</span><span class="token tag punctuation">&gt;</span><span class="token plain">Hello World</span><span class="token tag punctuation">&lt;/</span><span class="token tag punctuation">&gt;</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 这样写也是跑得起来的</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="原则三：易于维护"><a aria-hidden="true" href="/dumi//guide/demo-principle#原则三：易于维护"><span class="icon,icon-link"></span></a>原则三：易于维护</h2><p>用户会在 Markdown 中写项目吗？显然不会。我们之所以选择直接在 Markdown 中写 Demo，是因为它简单、方便，但倘若某个组件的 Demo 特别复杂，我们却执意在 Markdown 中进行编写，那编写和维护的过程就成了噩梦，就像在 2020 年了我们仍然要使用 Windows 记事本去编程一样。</p><p>为了能让开发者能和开发组件一样去编写、维护 Demo，dumi 支持从外部引入一个 Demo，就像这样：</p><div class="__dumi-default-code-block"><pre class="prism-code language-html"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token tag punctuation">&lt;</span><span class="token tag">code</span><span class="token tag"> </span><span class="token tag attr-name">src</span><span class="token tag attr-value punctuation">=</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag attr-value">/path/to/Demo.tsx</span><span class="token tag attr-value punctuation">&quot;</span><span class="token tag"> </span><span class="token tag punctuation">/&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>同时为了使得它既能看、也能用，在用户需要展示 Demo 源代码的时候，dumi 仍然会为用户展示真正的源代码！这样以来，不仅用户的体验丝毫不受影响，开发者也能享受到编辑器带来的 Code Snippets、ESLint、prettier 等强大的功能。</p><p>如果开发者写的 Demo 用户拷贝过去无法直接运行，那这个 Demo 是『只能看，不能用的』；如果开发者像用户一样写 Demo，那这个 Demo 必定是『既能看，也能用的』。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/edit/master/docs/guide/demo-principle.md">在 GitHub 上编辑这篇文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">3/3/2020, 4:23:27 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://v1.cnzz.com/z_stat.php?id=1278653578&web_id=1278653578"></script>
    <script src="/umi.be7ad20a.js"></script>
  </body>
</html>
