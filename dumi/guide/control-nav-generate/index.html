<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg"
    />
    <style>
      a[title="站长统计"] {
        display: none;
      }
    </style>
    <link rel="stylesheet" href="/umi.ee5df49f.css" />
    <script>
      window.routerBase = "/dumi/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>控制导航生成</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="/dumi//">dumi</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/dumi//guide">指南</a><a href="/dumi//config">配置项</a><a href="/dumi//examples">渲染示例</a><a href="/dumi//lab">实验室</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="/dumi//"></a><h1>dumi</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/dumi//guide">指南</a></li><li><a href="/dumi//config">配置项</a></li><li><a href="/dumi//examples">渲染示例</a></li><li><a href="/dumi//lab">实验室</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a target="_blank" rel="noopener noreferrer">介绍</a><ul><li><a href="/dumi//guide"><span>介绍</span></a></li><li><a href="/dumi//guide/getting-started"><span>快速上手</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">写组件 Demo</a><ul><li><a href="/dumi//guide/demo-principle"><span>dumi 的 Demo 理念</span></a></li><li><a href="/dumi//guide/demo-types"><span>Demo 的类型</span></a></li><li><a href="/dumi//guide/control-demo-render"><span>控制 Demo 渲染</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">控制菜单和路由生成</a><ul><li><a href="/dumi//guide/control-route-generate"><span>控制路由生成</span></a></li><li><a href="/dumi//guide/control-menu-generate"><span>控制菜单生成</span></a></li><li><a aria-current="page" class="active" href="/dumi//guide/control-nav-generate"><span>控制导航生成</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">更多用法</a><ul><li><a href="/dumi//guide/mode"><span>多种呈现模式</span></a></li><li><a href="/dumi//guide/multi-language"><span>多语言支持</span></a></li><li><a href="/dumi//guide/seo"><span>SEO 支持</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">其他</a><ul><li><a href="/dumi//guide/migration"><span>从 father-doc 迁移</span></a></li><li><a href="/dumi//guide/faq"><span>FAQ</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="约定式导航规则" data-depth="2"><a href="/dumi//guide/control-nav-generate#约定式导航规则"><span>约定式导航规则</span></a></li><li title="控制导航名称" data-depth="3"><a href="/dumi//guide/control-nav-generate#控制导航名称"><span>控制导航名称</span></a></li><li title="控制导航路径" data-depth="3"><a href="/dumi//guide/control-nav-generate#控制导航路径"><span>控制导航路径</span></a></li><li title="控制导航顺序" data-depth="3"><a href="/dumi//guide/control-nav-generate#控制导航顺序"><span>控制导航顺序</span></a></li><li title="控制菜单生成" data-depth="3"><a href="/dumi//guide/control-nav-generate#控制菜单生成"><span>控制菜单生成</span></a></li><li title="配置式导航" data-depth="2"><a href="/dumi//guide/control-nav-generate#配置式导航"><span>配置式导航</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="控制导航生成"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#控制导航生成"><span class="icon,icon-link"></span></a>控制导航生成</h1><div class="__dumi-default-alert">注意：导航仅在 <code>site</code> 模式下可用。</div><h2 id="约定式导航规则"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#约定式导航规则"><span class="icon,icon-link"></span></a>约定式导航规则</h2><p>和菜单项及菜单分组一样，dumi 的导航也是建立在路由结构上生成的。路由的嵌套关系会被 dumi 解析为导航及导航下的菜单分组，还是看看 dumi 会怎么识别路由结构：</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">/                       </span><span class="token comment"># 首页</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">/guide                  </span><span class="token comment"># 指南导航 + 指南导航的首页</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">/guide/help             </span><span class="token comment"># 指南导航 + 指南导航的帮助分组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">/other                  </span><span class="token comment"># 其他导航</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">/very/very/deep/child   </span><span class="token comment"># very 导航 + very/deep 分组</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>然后这个识别结果会被展示为：</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment"># 导航头</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">LOGO     Guide </span><span class="token operator">|</span><span class="token plain"> Other </span><span class="token operator">|</span><span class="token plain"> Very</span></div><div class="token-line"><span class="token plain">-----------------------------</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 指南的侧边菜单</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain">Guide</span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain">Help</span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 其他的侧边菜单</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain">Other</span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># Very 的侧边菜单</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain">Very/deep</span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain">  Child</span></div><div class="token-line"><span class="token plain">-----</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>总结一下约定式生成的逻辑：<strong>文件夹的第一级嵌套会作为导航，第二级至倒数第二级嵌套会作为侧边菜单，最后一级是页面；第一级嵌套下的所有菜单和页面会被归集到该导航下</strong>。</p><p>但仅依靠自动规则往往是不够的，我们通常还有定制导航头文字和顺序的需要：</p><h3 id="控制导航名称"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#控制导航名称"><span class="icon,icon-link"></span></a>控制导航名称</h3><p>导航名称的默认生成规则是，取当前导航的路由名称去掉 <code>/</code> 并首字母大写。比如，路由是 <code>/guide</code>，dumi 将会取 <code>guide</code> 并首字母大写变成 <code>Guide</code>。</p><p>如果希望手动控制导航名称，可以使用 <a href="/dumi//config/frontmatter#navtitle"><code>nav.title</code></a> 的 frontmatter 配置项进行配置；<strong>注意，同一导航文件夹下只需要在任意 Markdown 文件中配置，则会全体生效</strong>。</p><h3 id="控制导航路径"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#控制导航路径"><span class="icon,icon-link"></span></a>控制导航路径</h3><p>导航路径的默认生成规则是，取路由的第一级嵌套。比如，路由是 <code>/very/very/deep/child</code>，那么 <code>very</code> 则会作为导航路径。</p><p>如果希望手动控制导航路径，可以使用 <a href="/dumi//config/frontmatter#navpath"><code>nav.path</code></a> 的 frontmatter 配置项进行配置。</p><p>不同于 <code>nav.title</code>，由于 <code>nav.path</code> 作为唯一标识符，手动控制的话即便同一文件夹下也需要每个 Markdown 文件都设置，所以通常还是建议用文件夹来组织导航而不是手动控制。</p><h3 id="控制导航顺序"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#控制导航顺序"><span class="icon,icon-link"></span></a>控制导航顺序</h3><p>导航的默认排序规则为，先对比 <code>path</code> 的长度，例如 <code>/guide</code> 肯定排在 <code>/guide/help</code> 前面，其次对比导航名称的 ASCII 码，比如 <code>Guide</code> 肯定排在 <code>Help</code> 前面。</p><p>如果希望手动控制导航顺序，可以使用 <a href="/dumi//config/frontmatter#navorder"><code>nav.order</code></a> 的 frontmatter 配置项进行配置，数字越小越靠前；和 <code>nav.title</code> 一样，同一导航文件夹下只需要在任意 Markdown 文件中配置，就会全体生效。</p><h3 id="控制菜单生成"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#控制菜单生成"><span class="icon,icon-link"></span></a>控制菜单生成</h3><p>请参考 <a href="/dumi//guide/control-menu-generate">控制菜单生成</a>，<strong>需要注意的是，在 <code>site</code> 模式下，由于导航作为第一级嵌套，菜单的自动解析都是从第二级嵌套开始的</strong>。</p><h2 id="配置式导航"><a aria-hidden="true" href="/dumi//guide/control-nav-generate#配置式导航"><span class="icon,icon-link"></span></a>配置式导航</h2><p>在大部分场景下，我们都需要对导航上展示的内容做定制，例如添加 GitHub 的仓库链接、旧版文档的链接等等，可以使用 <a href="/dumi//config#navs"><code>navs</code> 配置项</a> 来实现：</p><div class="__dumi-default-code-block"><pre class="prism-code language-ts"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token comment">// config/config.ts 或 .umirc.ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 单语言配置方式如下</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  navs</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// null 值代表保留约定式生成的导航，只做增量配置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;GitHub&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      path</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;https://github.com/umijs/dumi&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 多语言配置方式如下</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  navs</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 多语言 key 值需与 locales 配置中的 key 一致</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&#x27;en-US&#x27;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// null 值代表保留约定式生成的导航，只做增量配置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;GitHub&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        path</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;https://github.com/umijs/dumi&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token string">&#x27;zh-CN&#x27;</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment">// null 值代表保留约定式生成的导航，只做增量配置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;GitHub&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        path</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;https://github.com/umijs/dumi&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>但此配置项只用于自定义导航头的展示项，<strong>并不会影响路由的生成</strong>，如果希望自定义路由路径，请 <a href="/dumi//guide/control-nav-generate#%E6%8E%A7%E5%88%B6%E5%AF%BC%E8%88%AA%E8%B7%AF%E5%BE%84">参考上方</a> 在 Markdown 文件中通过 frontmatter 配置项进行控制。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/edit/master/docs/guide/control-nav-generate.md">在 GitHub 上编辑这篇文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">3/9/2020, 2:51:40 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://v1.cnzz.com/z_stat.php?id=1278653578&web_id=1278653578"></script>
    <script src="/umi.be7ad20a.js"></script>
  </body>
</html>
