<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://img.alicdn.com/tfs/TB1YHEpwUT1gK0jSZFhXXaAtVXa-28-27.svg"
    />
    <style>
      a[title="站长统计"] {
        display: none;
      }
    </style>
    <link rel="stylesheet" href="/umi.ee5df49f.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.19
    </script>
    <title>控制路由生成</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" href="/">dumi</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/guide">指南</a><a href="/config">配置项</a><a href="/examples">渲染示例</a><a href="/lab">实验室</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" href="/"></a><h1>dumi</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/guide">指南</a></li><li><a href="/config">配置项</a></li><li><a href="/examples">渲染示例</a></li><li><a href="/lab">实验室</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/releases">更新日志<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a target="_blank" rel="noopener noreferrer">介绍</a><ul><li><a href="/guide"><span>介绍</span></a></li><li><a href="/guide/getting-started"><span>快速上手</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">写组件 Demo</a><ul><li><a href="/guide/demo-principle"><span>dumi 的 Demo 理念</span></a></li><li><a href="/guide/demo-types"><span>Demo 的类型</span></a></li><li><a href="/guide/control-demo-render"><span>控制 Demo 渲染</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">控制菜单和路由生成</a><ul><li><a aria-current="page" class="active" href="/guide/control-route-generate"><span>控制路由生成</span></a></li><li><a href="/guide/control-menu-generate"><span>控制菜单生成</span></a></li><li><a href="/guide/control-nav-generate"><span>控制导航生成</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">更多用法</a><ul><li><a href="/guide/mode"><span>多种呈现模式</span></a></li><li><a href="/guide/multi-language"><span>多语言支持</span></a></li><li><a href="/guide/seo"><span>SEO 支持</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">其他</a><ul><li><a href="/guide/migration"><span>从 father-doc 迁移</span></a></li><li><a href="/guide/faq"><span>FAQ</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="约定式路由规则" data-depth="2"><a href="/guide/control-route-generate#约定式路由规则"><span>约定式路由规则</span></a></li><li title="控制页面名称" data-depth="3"><a href="/guide/control-route-generate#控制页面名称"><span>控制页面名称</span></a></li><li title="控制页面排序" data-depth="3"><a href="/guide/control-route-generate#控制页面排序"><span>控制页面排序</span></a></li><li title="控制页面路由" data-depth="3"><a href="/guide/control-route-generate#控制页面路由"><span>控制页面路由</span></a></li><li title="配置式路由" data-depth="2"><a href="/guide/control-route-generate#配置式路由"><span>配置式路由</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="控制路由生成"><a aria-hidden="true" href="/guide/control-route-generate#控制路由生成"><span class="icon,icon-link"></span></a>控制路由生成</h1><h2 id="约定式路由规则"><a aria-hidden="true" href="/guide/control-route-generate#约定式路由规则"><span class="icon,icon-link"></span></a>约定式路由规则</h2><p>dumi 和 Umi 一样，有一套路由生成的约定。</p><p>生成均以 <a href="/config#includes"><code>resolve.includes</code></a> 配置项的值作为基础检测路径，倘若我们不配置该值，则会默认探测 <code>docs</code> 目录、<code>src</code> 目录（普通项目）、<code>packages/pkg/src</code> 目录（lerna 项目）。</p><p>假定 <code>docs</code> 有如下目录结构，dumi 会这么进行识别：</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token builtin class-name">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">└── docs/</span></div><div class="token-line"><span class="token plain">    ├── index.md       </span><span class="token comment"># 生成 / 路由</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ├── index.zh-CN.md </span><span class="token comment"># 生成 /zh-CN 路由</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ├── examples.md    </span><span class="token comment"># 生成 /examples 路由</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    ├── guide</span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">|</span><span class="token plain">   ├── README.md  </span><span class="token comment"># 生成 /guide 路由</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator">|</span><span class="token plain">   ├── help.md    </span><span class="token comment"># 生成 /guide/help 路由</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>可以发现，除了多语言的部分，和 Umi 对 <code>tsx/jsx</code> 约定式路由的识别规则非常类似。</p><p>另外，dumi 会将驼峰命名（camelCased）转换为短横线命名（kebab-case），例如 <code>docs/gettingStarted</code> 会被转化为 <code>docs/getting-started</code>。</p><h3 id="控制页面名称"><a aria-hidden="true" href="/guide/control-route-generate#控制页面名称"><span class="icon,icon-link"></span></a>控制页面名称</h3><p>页面名称的默认生成规则是，取当前路由的最后一段并首字母大写。比如，路由是 <code>/guide/help</code>，dumi 将会取末端路由 <code>help</code> 并首字母大写变成 <code>Help</code>。</p><p>如果希望手动控制页面名称，可以使用 <a href="/config/frontmatter#title">名为<code>title</code> 的 frontmatter 配置项</a> 进行配置。</p><h3 id="控制页面排序"><a aria-hidden="true" href="/guide/control-route-generate#控制页面排序"><span class="icon,icon-link"></span></a>控制页面排序</h3><p>在侧边菜单中，各页面会按照规则进行排序展示。</p><p>页面的默认排序规则为，先对比 <code>path</code> 的长度，例如 <code>/guide</code> 肯定排在 <code>/guide/help</code> 前面，其次对比页面名称的 ASCII 码，比如 <code>Guide</code> 肯定排在 <code>Help</code> 前面。</p><p>如果希望手动控制页面顺序，可以使用 <a href="/config/frontmatter#order">名为<code>order</code> 的 frontmatter 配置项</a> 进行配置，数字越小越靠前。</p><h3 id="控制页面路由"><a aria-hidden="true" href="/guide/control-route-generate#控制页面路由"><span class="icon,icon-link"></span></a>控制页面路由</h3><p>目前，页面自身的路由无法自定义，dumi 会保留名称即路由的约定，如果希望修改页面的路由，例如将 <code>/guide/help</code> 中的 <code>help</code> 修改为 <code>other</code>，那么建议把 <code>help.md</code> 改为 <code>other.md</code>。</p><p>但除开页面自己的路由，页面所属菜单分组和导航分组的路由是可以修改的，详见 <a href="/guide/control-menu-generate#%E6%8E%A7%E5%88%B6%E5%88%86%E7%BB%84%E8%B7%AF%E5%BE%84">控制菜单分组路径</a> 以及 <a href="/guide/control-nav-generate#%E6%8E%A7%E5%88%B6%E5%AF%BC%E8%88%AA%E8%B7%AF%E5%BE%84">控制导航分组路径</a>。</p><h2 id="配置式路由"><a aria-hidden="true" href="/guide/control-route-generate#配置式路由"><span class="icon,icon-link"></span></a>配置式路由</h2><p>通常推荐直接使用约定式路由，倘若不能满足需要，也可以通过 <a href="/config#routes"><code>config.routes</code></a> 配置项来进行配置，用法和 Umi 一样，但有两点需要注意：</p><ol><li>目前仅支持配置 <code>.md</code> 作为路由组件，后续会进行扩展支持标准的 <code>module</code></li><li>为了便于在运行时对路由进行遍历，dumi 会把所有嵌套式路由拉平，如果嵌套的路由有父级组件，会通过 Umi 的 <a target="_blank" rel="noopener noreferrer" href="https://umijs.org/docs/routing#wrappers"><code>wrappers</code></a> 路由配置项进行包裹</li></ol></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/umijs/dumi/edit/master/docs/guide/control-route-generate.md">在 GitHub 上编辑这篇文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">4/4/2020, 12:27:28 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://v1.cnzz.com/z_stat.php?id=1278653578&web_id=1278653578"></script>
    <script src="/umi.177acc19.js"></script>
  </body>
</html>
